(function(t){function a(a){for(var s,n,o=a[0],d=a[1],c=a[2],_=0,p=[];_<o.length;_++)n=o[_],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);l&&l(a);while(p.length)p.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,o=1;o<e.length;o++){var d=e[o];0!==i[d]&&(s=!1)}s&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},i={app:0},r=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var l=d;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var s=e("64a9"),i=e.n(s);i.a},4678:function(t,a,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var a=r(t);return e(a)}function r(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),i=e("f23d"),r=(e("202f"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("a-layout",{staticClass:"layout",attrs:{id:"components-layout-demo-top"}},[e("a-layout-header",[e("div",{staticClass:"logo"}),e("a-row",[e("a-col",{attrs:{span:16}},[e("a-menu",{style:{lineHeight:"64px"},attrs:{theme:"dark",mode:"horizontal",defaultSelectedKeys:["redis_info"]},on:{click:t.menuClick}},[e("a-menu-item",{key:"redis_info"},[e("a-icon",{attrs:{type:"info-circle"}}),t._v("系统详情")],1),e("a-menu-item",{key:"3"},[e("a-icon",{attrs:{type:"dashboard"}}),t._v("性能监控")],1),e("a-menu-item",{key:"2"},[e("a-icon",{attrs:{type:"database"}}),t._v("数据信息")],1)],1)],1),e("a-col",{attrs:{span:5}},[e("a-row",{attrs:{type:"flex",justify:"end"}},[e("a-col",{attrs:{span:10}},[e("a-select",{staticStyle:{width:"150px"},attrs:{value:t.redis_ip},on:{change:t.change_redis}},t._l(t.containers,(function(a){return e("a-select-option",{key:a.ip,attrs:{value:a.ip}},[t._v(t._s(a.name))])})),1)],1),e("a-col",{attrs:{span:2,offset:1}},[e("a-dropdown",[e("a-icon",{staticClass:"ant-dropdown-link",staticStyle:{color:"#ffffff","font-size":"28px","padding-top":"17px"},attrs:{type:"setting"}}),e("a-menu",{attrs:{slot:"overlay"},on:{click:t.settingClick},slot:"overlay"},[e("a-menu-item",{key:"about"},[e("a-icon",{attrs:{type:"info-circle"}}),t._v("关于程序")],1),e("a-menu-item",{key:"edit"},[e("a-icon",{attrs:{type:"edit"}}),t._v("连接管理")],1)],1)],1)],1)],1)],1)],1)],1),e("a-layout-content",{staticStyle:{padding:"0 50px"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:"3"==t.memu_key,expression:"memu_key=='3'"}]},[e("a-row",[e("a-col",{attrs:{span:12}},[e("div",{ref:"chart",staticStyle:{height:"46vh",width:"48vw"}})]),e("a-col",{attrs:{span:12}},[e("div",{ref:"chart1",staticStyle:{height:"46vh",width:"48vw"}})])],1),e("a-row",[e("a-col",{attrs:{span:12}},[e("div",{ref:"chart2",staticStyle:{height:"46vh",width:"48vw"}})]),e("a-col",{attrs:{span:12}},[e("div",{ref:"chart3",staticStyle:{height:"46vh",width:"48vw"}})])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"redis_info"==t.memu_key,expression:"memu_key=='redis_info'"}]},[e("a-row",[e("a-col",{staticStyle:{"padding-right":"10px"},attrs:{span:16}},[e("a-divider",[t._v("高时延日志")]),e("a-table",{staticStyle:{"word-break":"break-all"},attrs:{rowKey:"id",columns:t.logs_columns,loading:t.logs_loading,dataSource:t.logs_data,pagination:!1,scroll:{y:310}},scopedSlots:t._u([{key:"time",fn:function(a){return[t._v("\n                  "+t._s(new Date(1e3*a).Format("yyyy-MM-dd HH:mm:ss"))+"\n                ")]}}])}),e("a-divider",[t._v("客户端列表")]),e("a-table",{attrs:{rowKey:"id",columns:t.clients_columns,loading:t.clients_loading,dataSource:t.clients_data,pagination:{pageSize:50},scroll:{y:268}},scopedSlots:t._u([{key:"time",fn:function(a){return[t._v("\n                  "+t._s(t.formatSeconds(a))+"\n                ")]}}])})],1),e("a-col",{attrs:{span:8}},[e("a-collapse",{staticStyle:{"font-size":"15px"},attrs:{accordion:"",activeKey:"1"}},[e("a-collapse-panel",{key:"1"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"home"}}),t._v(" 服务端信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("版本信息: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.info_data.redis_version)+" | "+t._s(t.info_data.arch_bits))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("进程编号/端口: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.info_data.process_id)+" | "+t._s(t.info_data.tcp_port))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("运行时间: "+t._s(t.formatSeconds(t.info_data.uptime_in_seconds)))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("服务模式: "+t._s(t.info_data.redis_mode))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("系统版本: "+t._s(t.info_data.os))])],1)],2),e("a-collapse-panel",{key:"2"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"user"}}),t._v(" 客户端信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("已连接客户端的数量: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.info_data.connected_clients))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("阻塞的客户端的数量: "),e("a-tag",{attrs:{color:"orange"}},[t._v(t._s(t.info_data.blocked_clients))])],1)],1)],2),e("a-collapse-panel",{key:"3"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"bar-chart"}}),t._v(" 统计信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("已接受的连接请求数量: "+t._s(t.info_data.total_connections_received))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("已执行的命令数量: "+t._s(t.info_data.total_commands_processed))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("总流入数据量: "+t._s(t.info_data.total_net_input_bytes))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("总流出数据量: "+t._s(t.info_data.total_net_output_bytes))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("每秒流入数据量: "+t._s(t.info_data.instantaneous_input_kbps))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("每秒流出数据量: "+t._s(t.info_data.instantaneous_output_kbps))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("每秒执行命令数量: "+t._s(t.info_data.instantaneous_ops_per_sec))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("过期删除的键: "+t._s(t.info_data.expired_keys))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("驱逐(evict)的键数量: "+t._s(t.info_data.evicted_keys))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("查找数据库键成功的次数: "+t._s(t.info_data.keyspace_hits))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("订阅的频道数量: "+t._s(t.info_data.pubsub_channels))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("订阅的模式数量: "+t._s(t.info_data.pubsub_patterns))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("拒绝的连接请求数量: "+t._s(t.info_data.rejected_connections))])],1)],2),e("a-collapse-panel",{key:"4"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"hdd"}}),t._v(" 持久信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("AOF是否处于打开状态: "+t._s(t.info_data.aof_enabled))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("AOF文件目前的大小: "+t._s(t.info_data.aof_current_size))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("RDB文件最近保存时间: "),e("br"),t._v(" "+t._s(new Date(1e3*t.info_data.rdb_last_save_time).Format("yyyy-MM-dd HH:mm:ss")))])],1)],2),e("a-collapse-panel",{key:"5"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"table"}}),t._v(" 内存信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("系统内存: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.info_data.total_system_memory_human))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("占用内存: "),e("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t.info_data.used_memory_human))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("系统内存占用: "+t._s(t.info_data.used_memory_rss_human))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("内存消耗峰值: "+t._s(t.info_data.used_memory_peak_human))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("内存碎片率: "+t._s(t.info_data.mem_fragmentation_ratio))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("内存分配器: "+t._s(t.info_data.mem_allocator))])],1)],2),e("a-collapse-panel",{key:"6"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"laptop"}}),t._v(" 处理器信息")],1),e("a-card",[e("a-card-grid",{staticClass:"gridcard"},[t._v("系统CPU: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.info_data.used_cpu_sys))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("用户CPU: "),e("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t.info_data.used_cpu_user))])],1),e("a-card-grid",{staticClass:"gridcard"},[t._v("后台进程系统CPU: "+t._s(t.info_data.used_cpu_sys_children))]),e("a-card-grid",{staticClass:"gridcard"},[t._v("后台进程用户CPU: "+t._s(t.info_data.used_cpu_user_children))])],1)],2),e("a-collapse-panel",{key:"7"},[e("template",{slot:"header"},[e("a-icon",{attrs:{type:"database"}}),t._v(" 键值信息")],1),e("a-card",[t.format_db_nums(t.info_data.db0)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB0: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db0)))])],1):t._e(),t.format_db_nums(t.info_data.db1)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB1: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db1)))])],1):t._e(),t.format_db_nums(t.info_data.db2)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB2: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db2)))])],1):t._e(),t.format_db_nums(t.info_data.db3)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB3: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db3)))])],1):t._e(),t.format_db_nums(t.info_data.db4)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB4: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db4)))])],1):t._e(),t.format_db_nums(t.info_data.db5)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB5: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db5)))])],1):t._e(),t.format_db_nums(t.info_data.db6)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB6: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db6)))])],1):t._e(),t.format_db_nums(t.info_data.db7)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB7: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db7)))])],1):t._e(),t.format_db_nums(t.info_data.db8)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB8: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db8)))])],1):t._e(),t.format_db_nums(t.info_data.db9)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB9: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db9)))])],1):t._e(),t.format_db_nums(t.info_data.db10)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB10: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db10)))])],1):t._e(),t.format_db_nums(t.info_data.db11)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB11: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db11)))])],1):t._e(),t.format_db_nums(t.info_data.db12)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB12: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db12)))])],1):t._e(),t.format_db_nums(t.info_data.db13)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB13: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db13)))])],1):t._e(),t.format_db_nums(t.info_data.db14)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB14: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db14)))])],1):t._e(),t.format_db_nums(t.info_data.db15)>0?e("a-card-grid",{staticClass:"gridcard25"},[t._v("DB15: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(t.format_db_nums(t.info_data.db15)))])],1):t._e()],1)],2)],1)],1)],1)],1)])],1),e("a-drawer",{attrs:{width:"560",placement:"right",visible:t.visible},on:{close:function(){t.visible=!1}}},[e("div",{attrs:{slot:"title"},slot:"title"},[t._v("Redis连接管理 "),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{staticStyle:{color:"#42b983"},attrs:{icon:"plus"},on:{click:t.add_container}},[t._v("添加连接")])],1),e("a-card",t._l(t.containers,(function(a,s){return e("a-card-grid",{key:s,staticClass:"gridcard100"},[t._v("\n          名称: "),e("a-tag",{attrs:{color:"green"}},[t._v(t._s(a.name))]),e("a-divider",{attrs:{type:"vertical"}}),t._v("\n          IP: "),e("a-tag",{attrs:{color:"blue"}},[t._v(t._s(a.ip))]),e("a-divider",{attrs:{type:"vertical"}}),t._v("\n          端口: "+t._s(a.port)+" "),e("a-divider",{attrs:{type:"vertical"}}),t._v("\n          DB: "+t._s(a.db)+" "),e("br"),e("br"),t._v("\n          密码: "+t._s(a.password)+" "),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{shape:"circle",icon:"edit"},on:{click:function(e){return t.edit_container(a)}}}),e("a-button",{attrs:{shape:"circle",icon:"delete",type:"danger"},on:{click:function(e){return t.delete_container(a.ip)}}})],1)})),1)],1),e("a-drawer",{attrs:{title:t.children_drawl_name,width:"280",visible:t.visible_children},on:{close:function(){t.visible_children=!1}}},["修改连接"==t.children_drawl_name?e("a-input",{attrs:{placeholder:"连接IP",size:"large",disabled:""},model:{value:t.container_tmp.ip,callback:function(a){t.$set(t.container_tmp,"ip",a)},expression:"container_tmp.ip"}},[e("a-icon",{attrs:{slot:"prefix",type:"api"},slot:"prefix"}),t.container_tmp.ip?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.ip=""}},slot:"suffix"}):t._e()],1):e("a-input",{attrs:{placeholder:"连接IP",size:"large"},on:{change:function(){t.container_tmp.name=t.container_tmp.ip}},model:{value:t.container_tmp.ip,callback:function(a){t.$set(t.container_tmp,"ip",a)},expression:"container_tmp.ip"}},[e("a-icon",{attrs:{slot:"prefix",type:"api"},slot:"prefix"}),t.container_tmp.ip?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.ip=""}},slot:"suffix"}):t._e()],1),e("a-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"连接名称",size:"large"},model:{value:t.container_tmp.name,callback:function(a){t.$set(t.container_tmp,"name",a)},expression:"container_tmp.name"}},[e("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),t.container_tmp.name?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.name=""}},slot:"suffix"}):t._e()],1),e("a-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"密码",size:"large"},model:{value:t.container_tmp.password,callback:function(a){t.$set(t.container_tmp,"password",a)},expression:"container_tmp.password"}},[e("a-icon",{attrs:{slot:"prefix",type:"warning"},slot:"prefix"}),t.container_tmp.password?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.password=""}},slot:"suffix"}):t._e()],1),e("a-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"端口",size:"large"},model:{value:t.container_tmp.port,callback:function(a){t.$set(t.container_tmp,"port",a)},expression:"container_tmp.port"}},[e("a-icon",{attrs:{slot:"prefix",type:"appstore"},slot:"prefix"}),t.container_tmp.port?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.port=""}},slot:"suffix"}):t._e()],1),e("a-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"DB",size:"large"},model:{value:t.container_tmp.db,callback:function(a){t.$set(t.container_tmp,"db",a)},expression:"container_tmp.db"}},[e("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"}),t.container_tmp.db?e("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(){t.container_tmp.db=""}},slot:"suffix"}):t._e()],1),"修改连接"==t.children_drawl_name?e("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",loading:t.visible_children_loading},on:{click:t.upload_edit}},[t._v("确认")]):e("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",loading:t.visible_children_loading},on:{click:t.upload_add}},[t._v("确认")])],1)],1)}),n=[],o=e("bc3a"),d=e.n(o),c=e("313e"),l=e.n(c);Date.prototype.Format=function(t){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"S+":this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr(String(a[e]).length)));return t};const _="http:"===location.protocol?"ws:":"wss:";let p=location.origin,m=`${_}//${location.host}/ws`;var h={name:"app",data(){return{log:console.log,url:p,ws_url:m,redis_name:"",redis_ip:"",redis_db:0,containers:{},container_tmp:{ip:"",name:"",password:"",port:6379,db:0,status:0},dbs:[],visible:!1,visible_children:!1,visible_children_loading:!1,children_drawl_name:"新增连接",memu_key:"",time_data:[],info_data:{},logs_loading:!1,logs_data:[],logs_columns:[{title:"ID",dataIndex:"id",width:100},{title:"记录时间",dataIndex:"time",width:200,scopedSlots:{customRender:"time"}},{title:"执行时间(微秒)",dataIndex:"time_used",width:150},{title:"日志详情",dataIndex:"msg"}],clients_loading:!1,clients_data:[],clients_columns:[{title:"ID",dataIndex:"id",width:150},{title:"主机",dataIndex:"addr",width:200},{title:"连接时长",dataIndex:"age",scopedSlots:{customRender:"time"},width:150},{title:"数据库ID",dataIndex:"db",width:150},{title:"订阅频道",dataIndex:"sub",width:150},{title:"最近执行",dataIndex:"cmd",width:150}],websocket:null,myChart:null,myChart1:null,myChart2:null,myChart3:null,option:{title:{text:"流量监控"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},axisPointer:{link:{xAxisIndex:"all"}},grid:[{left:50,right:50,height:"32%"},{left:50,right:50,top:"60%",height:"32%"}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:[]},{gridIndex:1,type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:[],position:"top"}],yAxis:[{name:"上行流量(Kbps/s)",type:"value"},{gridIndex:1,name:"下行流量(Kbps/s)",type:"value",inverse:!0}],series:[{name:"上行流量",type:"line",symbolSize:8,hoverAnimation:!1,data:[]},{name:"下行流量",type:"line",xAxisIndex:1,yAxisIndex:1,symbolSize:8,hoverAnimation:!1,data:[]}]},option1:{title:{text:"内存监控"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{name:"内存占用(KB)",type:"value"},grid:{left:0,right:0,bottom:0,containLabel:!0},series:[{data:[],type:"line",smooth:!0}]},option2:{title:{text:"每秒执行操作数"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},grid:{left:20,right:20,containLabel:!0},series:[{data:[],type:"line",smooth:!0}]},option3:{title:{text:"CPU监控"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},grid:{left:20,right:20,containLabel:!0},series:[{data:[],type:"line",smooth:!0}]}}},methods:{menuClick(t){this.memu_key=t.key,"redis_info"===t.key?this.get_redis_infos():3==this.memu_key?this.websocket.send(JSON.stringify({type:1,ip:this.redis_ip})):this.$message.warning("暂未实现, 请耐心等待")},settingClick(t){"about"===t.key?this.$message.success("RedisGo Web是为更好的监控/管理内网的Redis而倾心打造"):"edit"===t.key&&(this.visible=!0)},change_redis(t){this.redis_ip=t,3==this.memu_key?this.websocket.send(JSON.stringify({type:1,ip:this.redis_ip})):"redis_info"===this.memu_key&&this.get_redis_infos()},get_redis_infos(){this.get_info(),this.get_logs(),this.get_clients()},get_info(){d.a.get(this.url+"/containers?method=info&ip="+this.redis_ip).then(t=>{this.info_data=t.data.data})},get_logs(){this.logs_loading=!0,d.a.get(this.url+"/containers?method=logs&ip="+this.redis_ip).then(t=>{this.logs_data=t.data.data,this.logs_loading=!1})},get_clients(){this.clients_loading=!0,d.a.get(this.url+"/containers?method=clients&ip="+this.redis_ip).then(t=>{this.clients_data=t.data.data,this.clients_loading=!1})},upload_add(){this.visible_children_loading=!0,d.a.get(this.url+`/containers?method=add&ip=${this.container_tmp.ip}&name=${this.container_tmp.name}&password=${this.container_tmp.password}&port=${this.container_tmp.port}&db=${this.container_tmp.db}`).then(t=>{this.visible_children_loading=!1;let a=t.data;0!=a.code?this.$message.error(a.msg):(this.containers[this.container_tmp.ip]=a.data,this.$message.success("添加成功"),this.visible_children=!1)})},upload_edit(){this.visible_children_loading=!0,d.a.get(this.url+`/containers?method=edit&ip=${this.container_tmp.ip}&name=${this.container_tmp.name}&password=${this.container_tmp.password}&port=${this.container_tmp.port}&db=${this.container_tmp.db}`).then(t=>{this.visible_children_loading=!1;let a=t.data;0!=a.code?this.$message.error(a.msg):(this.containers[this.container_tmp.ip]=a.data,this.$message.success("修改成功"),this.visible_children=!1)})},add_container(){this.visible_children=!0,this.children_drawl_name="新增连接",this.container_tmp.ip="",this.container_tmp.password="",this.container_tmp.name="",this.container_tmp.port=6379,this.container_tmp.db=0},edit_container(t){this.visible_children=!0,this.children_drawl_name="修改连接",this.container_tmp.ip=t.ip,this.container_tmp.password=t.password,this.container_tmp.name=t.name,this.container_tmp.port=t.port,this.container_tmp.db=t.db},delete_container(t){d.a.get(this.url+"/containers?method=delete&ip="+t).then(a=>{let e=a.data.code;0==e&&(delete this.containers[t],this.$forceUpdate(),this.$message.success("成功删除Redis连接"))})},circle_push(t,a){return t.push(a),t.length>54e3&&t.shift(),t},format_db_nums(t){if(void 0===t)return 0;if(""===t)return 0;let a=t.split(",")[0];return a.split("=")[1]},formatSeconds(t){var a=parseInt(t),e=0,s=0;a>60&&(e=parseInt(a/60),a=parseInt(a%60),e>60&&(s=parseInt(e/60),e=parseInt(e%60)));var i=parseInt(a)+"秒";return e>0&&(i=parseInt(e)+"分"+i),s>0&&(i=parseInt(s)+"小时"+i),i},receiveData(t){const a=JSON.parse(t.data),e=a.msg;if(e!==this.redis_ip)return;const s=JSON.parse(a.data);this.info_data=s;let i=(new Date).Format("HH:mm:ss");this.time_data=this.circle_push(this.time_data,i),this.option.xAxis[0].data=this.time_data,this.option.xAxis[1].data=this.time_data,this.option.series[0].data=this.circle_push(this.option.series[0].data,s["instantaneous_input_kbps"]),this.option.series[1].data=this.circle_push(this.option.series[1].data,s["instantaneous_output_kbps"]),this.myChart.setOption(this.option),this.option1.xAxis.data=this.time_data,this.option1.series[0].data=this.circle_push(this.option1.series[0].data,s["used_memory"]/1024),this.myChart1.setOption(this.option1),this.option2.xAxis.data=this.time_data,this.option2.series[0].data=this.circle_push(this.option2.series[0].data,s["instantaneous_ops_per_sec"]),this.myChart2.setOption(this.option2),this.option3.xAxis.data=this.time_data,this.option3.series[0].data=this.circle_push(this.option3.series[0].data,s["used_cpu_user"]),this.myChart3.setOption(this.option3)}},created(){for(let a=0;a<16;a++)this.dbs.push({label:a,value:a});d.a.get(this.url+"/containers?method=list").then(t=>{let a=t.data.data;for(let e in a)""===this.redis_ip&&(this.redis_ip=a[e]["ip"],this.redis_name=a[e]["name"]);""===this.redis_ip?this.$message.error("未检测到有效的Redis连接, 请在设置中添加并刷新页面",10):(this.containers=a,this.menuClick({key:"redis_info"}))});let t=new WebSocket(this.ws_url);t.onopen=()=>this.log("WebSocket连接成功"),t.onerror=()=>this.log("WebSocket连接发生错误"),t.onclose=t=>this.log(`connection closed (${t})`),t.onmessage=t=>this.receiveData(t),this.websocket=t},mounted(){null==this.myChart&&(this.myChart=l.a.init(this.$refs.chart)),this.myChart.setOption(this.option),null==this.myChart1&&(this.myChart1=l.a.init(this.$refs.chart1)),this.myChart1.setOption(this.option1),null==this.myChart2&&(this.myChart2=l.a.init(this.$refs.chart2)),this.myChart2.setOption(this.option2),null==this.myChart3&&(this.myChart3=l.a.init(this.$refs.chart3)),this.myChart3.setOption(this.option3)}},f=h,u=(e("034f"),e("2877")),g=Object(u["a"])(f,r,n,!1,null,null,null),b=g.exports;s["a"].use(i["a"]),s["a"].config.productionTip=!1,new s["a"]({render:t=>t(b)}).$mount("#app")},"64a9":function(t,a,e){}});
//# sourceMappingURL=app.46b01c35.js.map